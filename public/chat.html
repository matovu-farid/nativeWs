<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
<style>
  input{
    width: 100%;
    height: 35px;
  }
  #messages {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
  #messages li{
    padding: 5px 10px

  }
  #messages li:nth-child(odd){
    background: #eee;
  }
</style>
<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <form id="message-form">
        <div class="col-sm-10">
          <input type="text" placeholder="Enter your message" id="user-message">
        </div>
        <div class="col-sm-2">
          <input type="submit" value="Send!" class="btn btn-primary">
        </div>
      </form>
      <ul id="messages">
        <!--This will be populated with js-->
      </ul>
    </div>
  </div>
</div>
<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io('http://localhost:8000')
  const form = document.getElementById('message-form')
  form.addEventListener('submit',(event)=>{
    event.preventDefault()
    console.log('message submitted')
    const textInput = document.getElementById('user-message')
    const message = textInput.value;
    socket.emit('ChatFormClient',message)
  })
  socket.on('ChatFromServer',(msg)=>{
    console.log(msg)
    const list = document.getElementById('messages');
    const listItem = document.createElement('li');
    listItem.innerText = msg;
    list.appendChild(listItem);

  })
</script>